!function(t){t.fn.awShowcase=function(e){function n(n){var i=t(document.createElement("div")).attr("id","showcase-content-"+n).css("overflow","hidden").css("position","absolute").addClass("showcase-content").html(E[n]);return e.viewline||i.css("width",e.content_width),e.fit_to_parent&&!e.viewline&&i.css("left",I/2-e.content_width/2),i}function s(){var t=parseInt(m)+1;t===j&&e.continuous?t=0:t!==j||e.continuous||(_=!0,clearInterval(b)),_||o(t,"next")}function o(i,s){if(m!==i&&!y){var l,d,p,f=0,_=e.fit_to_parent?I/2-e.content_width/2:0;if(i>m&&"previous"!==s||"next"===s)if(e.viewline){if(j-1>m){for(e.speed_change||(y=!0),u(),e.pauseonover&&window.clearInterval(b),z=0,p=m+1,len=j;len>p;++p)l=G[p],z+=l.find(".showcase-content").children().width();z>I?(C=k,k-=G[m].find(".showcase-content").children().width()):t(".showcase-arrow-next").is(":visible")&&(C=k,k=-(x-(z+(I-z))),t(".showcase-arrow-next").fadeOut(300)),F.animate({left:k+"px"},e.transition_speed,function(){y=!1}),t(".showcase-arrow-next").is(":visible")&&m++,t(".showcase-arrow-previous").fadeIn(300)}}else e.speed_change||(y=!0),l=t(g).find("#showcase-content-"+parseInt(m)),d=n(i),F.append(d),e.dynamic_height?d.css("height",d.find(".showcase-content").children().height()):d.css("height",e.content_height),l.find(".showcase-content").children().height()>d.find(".showcase-content").children().height()&&e.dynamic_height&&(F.stop(!0,!0).animate({height:d.find(".showcase-content").children().height()},200),f=100),"hslide"===e.transition?t(l).delay(f).animate({left:-e.content_width},e.transition_speed+e.transition_delay,function(){l.remove()}):"vslide"===e.transition?t(l).delay(f).animate({top:-e.content_height},e.transition_speed+e.transition_delay,function(){l.remove()}):t(l).delay(f).fadeOut(e.transition_speed,function(){l.remove()}),r(l,!0),h(l,!0),"hslide"===e.transition?(d.css("left",I),t(d).delay(f).animate({left:_},e.transition_speed,function(){r(d),h(d),a(d)})):"vslide"===e.transition?(d.css("top",g.height()),t(d).delay(f).animate({top:"0px"},e.transition_speed,function(){r(d),h(d),a(d)})):(d.css("left",_),d.css("display","none"),t(d).delay(f).fadeIn(e.transition_speed,function(){r(d),h(d),a(d)}));else(m>i||"previous"===s)&&(e.viewline?(0!==m&&(e.speed_change||(y=!0),u(),e.pauseonover&&window.clearInterval(b),F.animate({left:C+"px"},e.transition_speed,function(){y=!1}),k=C,m--,0===m&&t(".showcase-arrow-previous").fadeOut(300),old_id=m-1,sub_width=t(G[old_id]).width(),C+=sub_width),t(".showcase-arrow-next").fadeIn(300)):(e.speed_change||(y=!0),l=t(g).find("#showcase-content-"+parseInt(m)),d=n(i),F.append(d),e.dynamic_height?d.css("height",d.find(".showcase-content").children().height()):d.css("height",e.content_height),l.find(".showcase-content").children().height()>d.find(".showcase-content").children().height()&&e.dynamic_height&&(F.stop(!0,!0).animate({height:d.find(".showcase-content").children().height()},200),f=100),"hslide"===e.transition?t(l).delay(f).animate({left:I+"px"},e.transition_speed+e.transition_delay,function(){r(l,!0),h(l,!0),l.remove()}):"vslide"===e.transition?t(l).delay(f).animate({top:e.content_height+"px"},e.transition_speed+e.transition_delay,function(){r(l,!0),h(l,!0),l.remove()}):t(l).delay(f).fadeOut(e.transition_speed,function(){r(l,!0),h(l,!0),l.remove()}),"hslide"===e.transition?(d.css("left","-"+e.content_width+"px"),t(d).delay(f).animate({left:_},e.transition_speed,function(){r(d),h(d),a(d)})):"vslide"===e.transition?(d.css("top","-"+g.height()+"px"),t(d).delay(f).animate({top:"0px"},e.transition_speed,function(){r(d),h(d),a(d)})):(d.css("left",_),d.css("display","none"),t(d).delay(f).fadeIn(e.transition_speed,function(){r(d),h(d),a(d)})),F.append(d)));e.viewline||(w=m,m=i,e.thumbnails&&(m>w&&"previous"!==s||"next"===s?c("forward",!0):(w>m||"previous"===s)&&c("backward",!0)),e.arrows&&(t(g).find(".showcase-arrow-previous").unbind("click").click(function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),o(0===m?j-1:parseInt(m)-1,"previous")}),t(g).find(".showcase-arrow-next").unbind("click").click(function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),o(m===j-1?0:parseInt(m)+1,"next")})),e.thumbnails&&(p=0,g.find(".showcase-thumbnail").each(function(){var e=t(this);e.removeClass("active"),p===m&&e.addClass("active"),p++})),"show"===e.show_caption&&t(d).find(".showcase-caption").show()),e.buttons&&(p=0,g.find(".showcase-button-wrapper span").each(function(){var e=t(this);e.removeClass("active"),p===m&&e.addClass("active"),p++})),"function"==typeof e.custom_function&&e.custom_function()}}function a(t){e.dynamic_height&&F.stop(!0,!0).animate({height:t.find(".showcase-content").children().height()},200),y=!1}function c(n,i,s){var o=!0,a=d(t(T).find(".showcase-thumbnail"));"horizontal"===e.thumbnails_direction&&(a=p(t(T).find(".showcase-thumbnail")));var c=1;if(0===e.thumbnails_slidex&&(e.thumbnails_slidex=Y),i){for(var h=S,r=0;0>h;)h+="horizontal"===e.thumbnails_direction?p(t(O[0])):d(t(O[0])),r++;var l=r,u=Y+r-1;m>=l&&u>=m&&(o=!1);var f;if(m-u>e.thumbnails_slidex)for(f=m-u;f>e.thumbnails_slidex;)f-=e.thumbnails_slidex,c++;else if(l-m>e.thumbnails_slidex)for(f=l-m;f>e.thumbnails_slidex;)f-=e.thumbnails_slidex,c++;else c=1}"forward"===n&&o?("vertical"===e.thumbnails_direction&&e.content_height<X+S?S-=a*e.thumbnails_slidex*c:"horizontal"===e.thumbnails_direction&&e.content_width<X+S?S-=a*e.thumbnails_slidex*c:0===m&&(s||(S=0)),"horizontal"===e.thumbnails_direction?T.animate({left:S},300):T.animate({top:S},300)):o&&(0>S?S+=a*e.thumbnails_slidex*c:m===j-1?s||(S-=a*e.thumbnails_slidex*c):S=0,"horizontal"===e.thumbnails_direction?T.animate({left:S},300):T.animate({top:S},300))}function h(n,i){var s=n.find(".showcase-caption");i?s.stop(!0,!0).fadeOut(300):"onload"===e.show_caption?s.fadeIn(300):"onhover"===e.show_caption&&(t(n).mouseenter(function(){s.fadeIn(300)}),t(n).mouseleave(function(){s.stop(!0,!0).fadeOut(100)}))}function r(n,i){n.find(".showcase-tooltips a").each(function(){if(i)t(this).stop(!0,!0).fadeOut(300);else{var s=t(this).attr("coords");s=s.split(","),t(this).addClass("showcase-plus-anchor"),t(this).css("position","absolute"),t(this).css("display","none"),t(this).css("width",e.tooltip_icon_width),t(this).css("height",e.tooltip_icon_height),t(this).css("left",parseInt(s[0])-parseInt(e.tooltip_icon_width)/2),t(this).css("top",parseInt(s[1])-parseInt(e.tooltip_icon_height)/2);var o=t(this).html();t(this).mouseenter(function(){l(n,s[0],s[1],o)}),t(this).mouseleave(function(){l(n,s[0],s[1],o)}),t(this).html(""),t(this).fadeIn(300)}})}function l(n,i,s,o){if(null===U){U=t(document.createElement("div")).addClass("showcase-tooltip").css("display","none").css("position","absolute").css("max-width",e.tooltip_width).html(o),n.append(U);var a=2*parseInt(U.css("padding-right"))+2*parseInt(U.css("border-right-width")),c=2*parseInt(U.css("padding-bottom"))+2*parseInt(U.css("border-bottom-width"));lastx=parseInt(i)+U.width()+a,lasty=parseInt(s)+U.height()+c,lastx<e.content_width?U.css("left",parseInt(i)+parseInt(e.tooltip_offsetx)):U.css("left",parseInt(i)-parseInt(e.tooltip_offsetx)-(parseInt(U.width())+parseInt(e.tooltip_offsetx))),lasty<e.content_height?U.css("top",parseInt(s)+parseInt(e.tooltip_offsety)):U.css("top",parseInt(s)-parseInt(e.tooltip_offsety)-(parseInt(U.height())+parseInt(c))),U.fadeIn(400)}else U.fadeOut(400),U.remove(),U=null}function d(e,n,i,s,o){n="undefined"!=typeof n?n:!0,i="undefined"!=typeof i?i:!0,s="undefined"!=typeof s?s:!0,o="undefined"!=typeof o?o:!0;var a=n?t(e).height():0,c=i?parseFloat(t(e).css("margin-top"))+parseFloat(t(e).css("margin-bottom")):0,h=s?parseFloat(t(e).css("padding-top"))+parseFloat(t(e).css("padding-bottom")):0,r=o?parseFloat(t(e).css("border-top-width"))+parseFloat(t(e).css("border-bottom-width")):0;return a+=c+h+r}function p(e,n,i,s,o){n="undefined"!=typeof n?n:!0,i="undefined"!=typeof i?i:!0,s="undefined"!=typeof s?s:!0,o="undefined"!=typeof o?o:!0;var a=n?t(e).width():0,c=i?parseFloat(t(e).css("margin-left"))+parseFloat(t(e).css("margin-right")):0,h=s?parseFloat(t(e).css("padding-left"))+parseFloat(t(e).css("padding-right")):0,r=o?parseFloat(t(e).css("border-left-width"))+parseFloat(t(e).css("border-right-width")):0;return a+=c+h+r}function u(){x=0,F.children("div").each(function(){x+=t(this).find(".showcase-content").children().width(),G.push(t(this))})}var f={content_width:700,content_height:470,fit_to_parent:!1,auto:!1,interval:3e3,continuous:!1,loading:!0,tooltip_width:200,tooltip_icon_width:32,tooltip_icon_height:32,tooltip_offsetx:18,tooltip_offsety:0,arrows:!0,buttons:!0,btn_numbers:!1,keybord_keys:!1,mousetrace:!1,pauseonover:!0,stoponclick:!0,transition:"hslide",transition_delay:300,transition_speed:500,show_caption:"onload",thumbnails:!1,thumbnails_position:"outside-last",thumbnails_direction:"vertical",thumbnails_slidex:0,dynamic_height:!1,speed_change:!1,viewline:!1,fullscreen_width_x:15,custom_function:null};e=t.extend(f,e);var m=0,w=0,_=!1,v=!1,b=null,g=t(this),I=e.content_width,y=!1,x=1e4,k=0,C=0,z=0,F=t(document.createElement("div")).css("overflow","hidden").css("position","relative").addClass("showcase-content-container").prependTo(g);e.fit_to_parent&&(I=t(g).width()+e.fullscreen_width_x),e.viewline&&(e.thumbnails=!1,e.dynamic_height=!1,F.css("width",x),g.css("overflow","hidden"),t(".showcase-arrow-previous").hide());var E=[],O=[],j=0;g.children(".showcase-slide").each(function(){var i=t(this);if(j++,e.thumbnails){var s=i.find(".showcase-thumbnail");O.push(s),s.remove()}var o=i.find(".showcase-content").children().width(),a=i.find(".showcase-content").children().height();E.push(i.html()),i.remove();var c=n(j-1);(e.viewline||1===j)&&F.append(c),e.viewline&&(c.css("position","relative"),c.css("float","left"),c.css("width",o)),e.dynamic_height?(c.css("height",a),1===j&&F.css("height",a)):(c.css("height",e.content_height),1===j&&F.css("height",e.content_height)),(e.viewline||1===j)&&(r(c),h(c),"show"===e.show_caption&&t(c).find(".showcase-caption").show())});var T,X=0,Y=0;if(e.thumbnails){for(thumb_container=t("<div />"),thumb_restriction=t("<div />"),T=t("<div />"),i=O.length-1;i>=0;--i){var B=t(O[i]).css({overflow:"hidden"});B.attr("id","showcase-thumbnail-"+i),B.addClass(0===i?"active":""),B.click(function(t,e){return function(){b&&(v=!0,clearInterval(b)),o(t,e)}}(i,"")),T.prepend(B)}"outside-first"===e.thumbnails_position||"outside-last"===e.thumbnails_position?("horizontal"!==e.thumbnails_direction?(F.css("float","left"),F.css("width",e.content_width),thumb_container.css("float","left"),thumb_container.css("height",e.content_height)):t(T).find(".showcase-thumbnail").css("float","left"),"outside-last"===e.thumbnails_position?(g.append(thumb_container),"horizontal"!==e.thumbnails_direction&&g.append(t("<div />").addClass("clear"))):(g.prepend(thumb_container),"horizontal"!==e.thumbnails_direction&&g.append(t("<div />").addClass("clear")))):(thumb_container.css({position:"absolute","z-index":20}),"horizontal"===e.thumbnails_direction?(thumb_container.css({left:0,right:0}),t(T).find(".showcase-thumbnail").css("float","left"),t(T).append(t("<div />").addClass("clear")),"inside-first"===e.thumbnails_position?thumb_container.css("top",0):thumb_container.css("bottom",0)):(thumb_container.css({top:0,bottom:0}),"inside-first"===e.thumbnails_position?thumb_container.css("left",0):thumb_container.css("right",0)),F.prepend(thumb_container)),thumb_container.addClass("showcase-thumbnail-container"),thumb_container.css("overflow","hidden"),thumb_restriction.addClass("showcase-thumbnail-restriction"),thumb_restriction.css({overflow:"hidden",position:"relative"}),"horizontal"===e.thumbnails_direction&&thumb_restriction.css({"float":"left"}),T.addClass("showcase-thumbnail-wrapper"),T.addClass("horizontal"===e.thumbnails_direction?"showcase-thumbnail-wrapper-horizontal":"showcase-thumbnail-wrapper-vertical"),T.css("position","relative"),thumb_restriction.append(T),thumb_container.append(thumb_restriction);var D=t('<div class="showcase-thumbnail-button-backward" />');"horizontal"!==e.thumbnails_direction?D.html('<span class="showcase-thumbnail-vertical"><span>Up</span></span>'):(D.css({"float":"left"}),D.html('<span class="showcase-thumbnail-horizontal"><span>Left</span></span>')),D.click(function(){c("backward",!1,!0)}),thumb_container.prepend(D);var L=t('<div class="showcase-thumbnail-button-forward" />');"horizontal"!==e.thumbnails_direction?L.html('<span class="showcase-thumbnail-vertical"><span>Down</span></span>'):(L.css({"float":"left"}),L.html('<span class="showcase-thumbnail-horizontal"><span>Right</span></span>')),L.click(function(){c("forward",!1,!0)}),thumb_container.append(L);var P=0;if("horizontal"!==e.thumbnails_direction)for(P=d(T,!1),P+=d(D)+d(L);P<e.content_height;)P+=d(t(O[0])),Y++;else for(P=p(T,!1),P+=p(D)+p(L);I>P;)P+=p(t(O[0])),Y++;if(Y+1>O.length&&("horizontal"!==e.thumbnails_direction?thumb_restriction.css("margin-top",d(D)):thumb_restriction.css("margin-left",p(D)),D.hide(),L.hide()),"horizontal"!==e.thumbnails_direction){var Q=d(D)+d(L);thumb_restriction.css("height",e.content_height-Q)}else{var R=p(D)+p(L);thumb_restriction.css("width",I-R)}"horizontal"===e.thumbnails_direction?(t(".showcase-thumbnail").each(function(){X+=p(t(this))}),T.css("width",X)):t(".showcase-thumbnail").each(function(){X+=d(t(this))})}if(e.thumbnails&&-1!==e.thumbnails_position.indexOf("outside")&&"horizontal"!==e.thumbnails_direction&&!e.viewline?g.css("width",I+p(T,!0,!1)):e.fit_to_parent||g.css("width",I),j>1&&e.auto&&(b=window.setInterval(s,e.interval)),e.auto&&e.pauseonover&&(g.mouseenter(function(){_=!0,clearInterval(b)}),g.mouseleave(function(){v||(_=!1,b=window.setInterval(s,e.interval))})),e.arrows&&j>1&&(t(document.createElement("div")).addClass("showcase-arrow-previous").prependTo(g).click(function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),o(0===m?j-1:parseInt(m)-1,"previous")}),t(document.createElement("div")).addClass("showcase-arrow-next").prependTo(g).click(function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),o(m+1,"next")}),e.viewline&&t(".showcase-arrow-previous").hide()),e.buttons&&j>1)for(t(document.createElement("div")).css("clear","both").addClass("showcase-button-wrapper").appendTo(g),i=0;j>i;)t(document.createElement("span")).attr("id","showcase-navigation-button-"+i).addClass(0===i?"active":"").html(e.btn_numbers?parseInt(i)+1:"&#9679;").click(function(t,n){return function(){b&&(e.stoponclick&&(v=!0),clearInterval(b)),o(t,n)}}(i,"")).appendTo(t(g).find(".showcase-button-wrapper")),i++;e.keybord_keys&&t(document).keydown(function(t){e.stoponclick&&(v=!0),b&&clearInterval(b),37===t.keyCode&&o(0===m?j-1:parseInt(m)-1,"previous"),39===t.keyCode&&o(m===j-1?0:parseInt(m)+1,"next")});var S=0,U=null;if(e.mousetrace){var q=t(document.createElement("div")).css("position","absolute").css("top","0").css("background-color","#fff").css("color","#000").css("padding","3px 5px").css("x-index","30").html("X: 0 Y: 0");g.append(q);var A=g.offset();F.mousemove(function(t){q.html("X: "+(t.pageX-A.left)+" Y: "+(t.pageY-A.top))})}t("#awOnePageButton").click(function(){if(t(".view-page").is(":visible")){var i=t(document.createElement("div"));i.addClass("showcase-onepage"),g.before(i),b&&(v=!0,clearInterval(b)),t(this).find(".view-page").hide(),t(this).find(".view-slide").show(),g.hide(),t.each(E,function(t){obj=n(t),obj.css("position","relative"),i.append(obj),r(obj),h(obj),e.dynamic_height?obj.css("height",obj.find(".showcase-content").children().height()):obj.css("height",e.content_height)});var s=t(document.createElement("div"));s.addClass("clear"),i.append(s)}else t(".showcase-onepage").remove(),t(this).find(".view-page").show(),t(this).find(".view-slide").hide(),g.show();return!1});var G=[];g.removeClass("showcase-load")}}(jQuery);